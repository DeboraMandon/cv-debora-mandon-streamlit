name: Keep Streamlit App Awake

on:
  schedule:
    - cron: "0 */4 * * *"   # toutes les 4 heures
  workflow_dispatch:        # optionnel: déclenchement manuel

jobs:
  ping-app:
    runs-on: ubuntu-latest
    steps:
      - name: Ping app
        run: |
          curl -s -L -X GET \
            -H "User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36" \
            --max-redirs 5 \
            --fail \
            -o /dev/null \
            https://cv-debora-mandon-app.streamlit.app/ || true
          echo "✅ Ping envoyé avec succès"
