name: Keep Streamlit App Awake

on:
  schedule:
    - cron: "0 */4 * * *"   # toutes les 4 heures
  workflow_dispatch:        # optionnel: d√©clenchement manuel

jobs:
  ping-app:
    runs-on: ubuntu-latest
    steps:
      - name: Ping app
        run: |
          curl -s -L -X GET \
            -H "User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36" \
            -H "Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8" \
            --max-redirs 10 \
            -o /dev/null -w "%{http_code}\n" \
            https://cv-debora-mandon-app.streamlit.app/
